<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Gestionnaire de rapport</title>
    <link href="../manual.css" rel="stylesheet" type="text/css">
    <script src="../js/toc.js"></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js'></script>
    <script src="../js/back_to_top.js"></script>
</head>
<body onload="generateTOC(document.getElementById('toc'));">
    <header>
        <nav><small><a id="go_home" href="../index.html?lang=en">Aller à la page accueil de l'aide</a></small></nav>

        <a href="#" id="back-to-top"><img src="../img/backtotop.png" alt="Retour en haut de page" /></a>
        <!--Smooth Back to Top Button End-->

        <h1>Gestionnaire de rapports générales</h1>
    </header>

    <!-- ToC generated by Javascript -->
    <nav id="toc"></nav>

    <h2>Ouvrir le gestionnaire de rapports générales</h2>
    <p>
        Lancer le Gestionnaire de rapport (<abbr>GRM</abbr>) ou utiliser le menu 
        <kbd><samp>Outils</samp> &rarr; <samp>configuration de rapports&hellip;</samp>
        </kbd>.
    </p>
    <img class="shadow" alt="Barre d'outils GRM" src="../en_GB/grm_toolbar.png">

    <h2>Ajouter un nouveau rapport</h2>
    <p>Il y a 2 options disponibles.</p>

    <h3>Créez le rapport à partir de zéro</h3>
    <ol>
        <li>En utilisant l'arbre de navigation, clic-droite de la souris sur l'étiquette
            <kbd><samp>Rapports</samp></kbd>.</li>
        <li>Choisissez l'élément de menu: <kbd><samp>Nouveau rapport vide</samp></kbd>.</li>
        <li>Saisir un nom pour un nouveau groupe de rapports et le nom du nouveau rapport.</li>
        <li>Renommer un rapports, si nécessaire, avec clic droit sur l'élément de menu:
            <kbd><samp>Renommer rapport</samp></kbd>.</li>
        <li>Trois onglets seront affichés : Sortie, SQL, Lua, Modèle et
            Description.</li>
        <li>
            Choisissez l’onglet : SQL, insérer le script SQL dans la fenêtre de l’éditeur,
            vérifier que le script SQL se termine par un point-virgule, puis appuyez
            sur le bouton "Sauvegarder".
        </li>
        <li>Appuyez sur le bouton <kbd><samp>Test</samp></kbd> pour exécuter
            le script SQL.</li>
        <li>Si le test est ok, le bouton <kbd><samp>Créer un modèle</samp></kbd>
            sera disponible. Appuyez pour générer un modèle
            html pour le rapport.</li>
        <li>Appuyez sur <kbd><samp>Exécuter</samp></kbd> pour obtenir le rapport HTML
            dans la fenêtre de sortie.</li>
    </ol>
    <img class="shadow" alt="Création d'un nouveau rapport à partir de zéro"
    src="../en_GB/grm.gif">

    <h4>Paramètres du rapport</h4>
    <p>
        Pour MMEX version 1.4.0 il y a une possibilté de transgérer les dates dans un
        script SQL de rapport.
        Il y a quatre options: <var>&single_date</var>,
        <var>&begin_date</var>, <var>&end_date</var>, <var>&budget_years</var>.
        Si un SQL contient un de ces paramètres il sera
        remplacer par une date à partir du calendrier.
        Par exemple, ce script SQL retourne tous les soldes des comptes
            pour la date spécifiée :
    </p>
<pre><code class="language-sql">with b as  (
    select ACCOUNTID, STATUS
        , (case when TRANSCODE = 'Deposit' then TRANSAMOUNT else -TRANSAMOUNT end) as TRANSAMOUNT
        , TRANSDATE
    from CHECKINGACCOUNT
    union all
    select TOACCOUNTID, STATUS, TOTRANSAMOUNT ,TRANSDATE
    from CHECKINGACCOUNT
    where TRANSCODE = 'Transfer'
    )
select a.ACCOUNTNAME,
total(TRANSAMOUNT) + a.INITIALBAL as Balance
from ACCOUNTLIST as a, b
where a.STATUS = 'Open'
    and b.ACCOUNTID = a.ACCOUNTID
    and b.STATUS &lt;&gt; 'V'
    and b.TRANSDATE &lt;= '<var>&single_date</var>'
group by a.ACCOUNTNAME order by a.ACCOUNTNAME asc;
</code></pre>
    <img class="shadow" alt="Rapport GRM en utilisant un seul paramètre
    de date" src="../en_GB/grm_custom_date.png">

    <h3>Importer un rapport</h3>
    <p>
        Il y a beaucoup de rapports fournis par des utilisateurs ou les développeurs 
         sur  <a href="https://github.com/moneymanagerex/general-reports/releases">GitHub</a>
    </p>

    <h2>Exportation de la définition du rapport</h2>
    <p>
        Si vous avez créé un rapport utile, il peut être exporté dans un
         fichier zip.
    </p>

    <footer><p><small>
        Copyright &copy; 2005-2009 Madhan Kanagavel<br>
        Copyright &copy; 2013-2019 contributeurs MMEX<br>
        <span id="translator">Traducteurs: contributeurs MMEX</span>
    </small></p></footer>
    <script>
        var LANG = document.getElementsByTagName('html')[0].getAttribute('lang');
        var tr = document.getElementById("translator");
        if (LANG == 'en')
            tr.parentNode.removeChild(tr);
    </script>

</body>
</html>
