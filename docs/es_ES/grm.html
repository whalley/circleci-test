<!DOCTYPE html>
<html lang="es_ES">
<head>
    <meta charset="UTF-8">
    <title>Administrador de informes generales</title>
    <link href="../css/manual.css" rel="stylesheet" type="text/css">
    <script src="../js/toc.js"></script>
    <script src='../js/jquery.min.js'></script>
    <script src="../js/back_to_top.js"></script>
</head>
<body onload="generateTOC(document.getElementById('toc'));">
    <header>
        <nav><small><a id="go_home" href="../index.html?lang=es_ES">Ir a la página principal de ayuda</a></small></nav>

        <a href="#" id="back-to-top"><img src="../img/backtotop.png" alt="Volver al principio" /></a>
        <!--Smooth Back to Top Button End-->

        <h1>Administrador de informes generales</h1>
    </header>

    <!-- ToC generated by Javascript -->
    <nav id="toc"></nav>

    <h2>Abrir el administrador de informes generales</h2>
    <p>
        Puede abrir el administrador de informes generales (<abbr>AIG</abbr>) desde su icono de la barra de herramientas o usando el menú principal
        <kbd><samp>Herramientas</samp> &rarr; <samp>Administrador de informes generales&hellip;</samp>
        </kbd>.
    </p>
    <img class="shadow" alt="Icono del AIG en la barra de herramientas" src="../es_ES/grm_toolbar.png">

    <h2>Añadir un nuevo informe</h2>
    <p>Hay dos formas de añadir un nuevo informe:</p>

    <h3>Creando un informe desde cero</h3>
    <ol>
        <li>En el árbol de navegación, clic derecho en la
            etiqueta <kbd><samp>Informes</samp></kbd>.</li>
        <li>Seleccione el elemento <kbd><samp>Nuevo informe vacío</samp></kbd>.</li>
        <li>Introduzca el nombre para el grupo del nuevo informe y su nombre.</li>
        <li>Si lo desea, puede renombrar informes haciendo clic derecho en un informe y seleccionando
            <kbd><samp>Renombrar informe</samp></kbd>.</li>
        <li>Aparecerán cinco pestañas: Salida, SQL, Lua, Plantilla y
            Descripción.</li>
        <li>
            Seleccione la pestaña SQL, introduzca la secuencia de comandos SQL en la ventana del editor,
            compruebe que la secuencia de comandos finaliza con un punto y coma y pulse
            el botón <kbd><samp>Guardar</samp></kbd>.
        </li>
        <li>Pulse el botón <kbd><samp>Prueba</samp></kbd> para ejecutar la secuencia de comandos
            SQL.</li>
        <li>Si la prueba es satisfactoria, se activará el botón <kbd><samp>Crear plantilla</samp></kbd>.
            Púlselo para generar una plantilla HTML
            para el informe.</li>
        <li>Pulse el botón <kbd><samp>Ejecutar</samp></kbd> para obtener el informe HTML
            en la ventana de Salida.</li>
    </ol>
    <img class="shadow" alt="Animación de creación de un informe desde cero"
    src="../es_ES/grm.gif">

    <h4>Parámetros del informe</h4>
    <p>
        En la versión 1.3.4 de MMEX se pueden transferir fechas a la secuencia de comandos SQL
        del informe.
        Hay disponibles tres opciones: <var>&single_date</var>,
        <var>&begin_date</var>, <var>&end_date</var>.
        Si alguna secuencia de comandos SQL contiene alguno de estos parámetros, serán reemplazados
        con una fecha escogida en el calendario.
        Por ejemplo, esta secuencia de comandos SQL devolverá el saldo de todas las cuentas en la
        fecha especificada:
    </p>
<pre><code class="language-sql">with b as  (
    select ACCOUNTID, STATUS
        , (case when TRANSCODE = 'Deposit' then TRANSAMOUNT else -TRANSAMOUNT end) as TRANSAMOUNT
        , TRANSDATE
    from CHECKINGACCOUNT_V1    
    where STATUS <> 'V'
        and TRANSDATE <= '&single_date'
    union all
    select TOACCOUNTID, STATUS
        , TOTRANSAMOUNT ,TRANSDATE
    from CHECKINGACCOUNT_V1
    where TRANSCODE = 'Transfer'
        and STATUS <> 'V'
        and TRANSDATE <= '&single_date'
    )
select a.ACCOUNTNAME, a.ACCOUNTTYPE,
total(TRANSAMOUNT) + a.INITIALBAL as Balance
from ACCOUNTLIST_V1 as a
left join b on a.ACCOUNTID=b.ACCOUNTID
where a.STATUS = 'Open'  and a.ACCOUNTTYPE !='Investment'
group by a.ACCOUNTNAME order by a.ACCOUNTNAME asc;
</code></pre>
    <img class="shadow" alt="GRM report output using single date parameter
    example" src="../es_ES/grm_custom_date.png">

    <h3>Importando un informe</h3>
    <p>
        En <a href="https://github.com/moneymanagerex/general-reports/releases" target="_blank">GitHub</a>
		se pueden encontrar multitud de informes creados por usuarios y desarrolladores.
    </p>

    <h2>Exportar un reporte</h2>
    <p>
        Los informes se pueden exportar en un archivo ZIP. En caso de haber creado un informe útil,
		puede compartirlo en <a href="https://github.com/moneymanagerex/general-reports/" target="_blank">GitHub</a>.
    </p>

    <footer><p><small>
        Copyright &copy; 2005-2009 Madhan Kanagavel<br>
        Copyright &copy; 2013-2020 Colaboradores de MMEX<br>
        <span id="translator">Traducciones: Colaboradores de MMEX</span>
    </small></p></footer>
    <script>
        var LANG = document.getElementsByTagName('html')[0].getAttribute('lang');
        var tr = document.getElementById("translator");
        if (LANG == 'en')
            tr.parentNode.removeChild(tr);
    </script>

</body>
</html>
